<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
  <div id="chart_sp500"></div>
  <div id="chart_sp_tsx"></div>
  <div id="chart_ibovespa"></div>
  <script>
    var sp500_values = {
      "01/1930": 21.71, "02/1930": 23.07, "03/1930": 23.94, "04/1930": 25.46, "05/1930": 23.94, "06/1930": 21.52,
      "07/1930": 21.06, "08/1930": 20.79, "09/1930": 20.78, "10/1930": 17.92, "11/1930": 16.62, "12/1930": 15.51,
      "01/1931": 15.98, "02/1931": 17.20, "03/1931": 17.53, "04/1931": 15.86, "05/1931": 14.33, "06/1931": 13.87,
      "07/1931": 14.33, "08/1931": 13.90, "09/1931": 11.83, "10/1931": 10.25, "11/1931": 10.39, "12/1931": 8.44,
      "01/1932": 8.30, "02/1932": 8.23, "03/1932": 8.26, "04/1932": 6.28, "05/1932": 5.51, "06/1932": 4.77,
      "07/1932": 5.01, "08/1932": 7.53, "09/1932": 8.26, "10/1932": 7.12, "11/1932": 7.05, "12/1932": 6.82,
      "01/1933": 7.09, "02/1933": 6.25, "03/1933": 6.23, "04/1933": 6.89, "05/1933": 8.87, "06/1933": 10.39,
      "07/1933": 11.23, "08/1933": 10.67, "09/1933": 10.58, "10/1933": 9.55, "11/1933": 9.78, "12/1933": 9.97,
      "01/1934": 10.54, "02/1934": 11.32, "03/1934": 10.74, "04/1934": 10.92, "05/1934": 9.81, "06/1934": 9.94,
      "07/1934": 9.47, "08/1934": 9.10, "09/1934": 8.88, "10/1934": 8.95, "11/1934": 9.20, "12/1934": 9.26,
      "01/1935": 9.26, "02/1935": 8.98, "03/1935": 8.41, "04/1935": 9.04, "05/1935": 9.75, "06/1935": 10.12,
      "07/1935": 10.65, "08/1935": 11.37, "09/1935": 11.61, "10/1935": 11.92, "11/1935": 13.04, "12/1935": 13.04,
      "01/1936": 13.76, "02/1936": 14.55, "03/1936": 14.86, "04/1936": 14.88, "05/1936": 14.09, "06/1936": 14.69,
      "07/1936": 15.56, "08/1936": 15.87, "09/1936": 16.05, "10/1936": 16.89, "11/1936": 17.36, "12/1936": 17.06,
      "01/1937": 17.59, "02/1937": 18.11, "03/1937": 18.09, "04/1937": 17.01, "05/1937": 16.25, "06/1937": 15.64,
      "07/1937": 16.57, "08/1937": 16.74, "09/1937": 14.37, "10/1937": 12.28, "11/1937": 11.20, "12/1937": 11.02,
      "01/1938": 11.31, "02/1938": 11.04, "03/1938": 10.31, "04/1938": 9.89, "05/1938": 9.98, "06/1938": 10.21,
      "07/1938": 12.24, "08/1938": 12.31, "09/1938": 11.75, "10/1938": 13.06, "11/1938": 13.07, "12/1938": 12.69,
      "01/1939": 12.50, "02/1939": 12.40, "03/1939": 12.39, "04/1939": 10.83, "05/1939": 11.23, "06/1939": 11.43,
      "07/1939": 11.71, "08/1939": 11.54, "09/1939": 12.77, "10/1939": 12.90, "11/1939": 12.67, "12/1939": 12.37,
      "01/1940": 12.30, "02/1940": 12.22, "03/1940": 12.15, "04/1940": 12.27, "05/1940": 10.58, "06/1940": 9.67,
      "07/1940": 9.99, "08/1940": 10.20, "09/1940": 10.63, "10/1940": 10.73, "11/1940": 10.98, "12/1940": 10.53,
      "01/1941": 10.55, "02/1941": 9.89, "03/1941": 9.95, "04/1941": 9.64, "05/1941": 9.43, "06/1941": 9.76,
      "07/1941": 10.26, "08/1941": 10.21, "09/1941": 10.24, "10/1941": 9.83, "11/1941": 9.37, "12/1941": 8.76,
      "01/1942": 8.93, "02/1942": 8.65, "03/1942": 8.18, "04/1942": 7.84, "05/1942": 7.93, "06/1942": 8.33,
      "07/1942": 8.64, "08/1942": 8.59, "09/1942": 8.68, "10/1942": 9.32, "11/1942": 9.47, "12/1942": 9.52,
      "01/1943": 10.09, "02/1943": 10.69, "03/1943": 11.07, "04/1943": 11.44, "05/1943": 11.89, "06/1943": 12.10,
      "07/1943": 12.35, "08/1943": 11.74, "09/1943": 11.99, "10/1943": 11.88, "11/1943": 11.33, "12/1943": 11.48,
      "01/1944": 11.85, "02/1944": 11.77, "03/1944": 12.10, "04/1944": 11.89, "05/1944": 12.10, "06/1944": 12.67,
      "07/1944": 13.00, "08/1944": 12.81, "09/1944": 12.60, "10/1944": 12.91, "11/1944": 12.82, "12/1944": 13.10,
      "01/1945": 13.49, "02/1945": 13.94, "03/1945": 13.93, "04/1945": 14.28, "05/1945": 14.82, "06/1945": 15.09,
      "07/1945": 14.78, "08/1945": 14.83, "09/1945": 15.84, "10/1945": 16.50, "11/1945": 17.04, "12/1945": 17.33,
      "01/1946": 18.02, "02/1946": 18.07, "03/1946": 17.53, "04/1946": 18.66, "05/1946": 18.70, "06/1946": 18.58,
      "07/1946": 18.05, "08/1946": 17.70, "09/1946": 15.09, "10/1946": 14.75, "11/1946": 14.69, "12/1946": 15.13,
      "01/1947": 15.21, "02/1947": 15.80, "03/1947": 15.16, "04/1947": 14.60, "05/1947": 14.34, "06/1947": 14.84,
      "07/1947": 15.77, "08/1947": 15.46, "09/1947": 15.06, "10/1947": 15.45, "11/1947": 15.27, "12/1947": 15.03,
      "01/1948": 14.83, "02/1948": 14.10, "03/1948": 14.30, "04/1948": 15.40, "05/1948": 16.15, "06/1948": 16.82,
      "07/1948": 16.42, "08/1948": 15.94, "09/1948": 15.76, "10/1948": 16.19, "11/1948": 15.29, "12/1948": 15.19,
      "01/1949": 15.36, "02/1949": 14.77, "03/1949": 14.91, "04/1949": 14.89, "05/1949": 14.78, "06/1949": 13.97,
      "07/1949": 14.76, "08/1949": 15.29, "09/1949": 15.49, "10/1949": 15.89, "11/1949": 16.11, "12/1949": 16.54,
      "01/1950": 16.88, "02/1950": 17.21, "03/1950": 17.35, "04/1950": 17.84, "05/1950": 18.44, "06/1950": 18.74,
      "07/1950": 17.38, "08/1950": 18.43, "09/1950": 19.08, "10/1950": 19.87, "11/1950": 19.83, "12/1950": 19.75,
      "01/1951": 21.21, "02/1951": 22.00, "03/1951": 21.63, "04/1951": 21.92, "05/1951": 21.93, "06/1951": 21.55,
      "07/1951": 21.93, "08/1951": 22.89, "09/1951": 23.48, "10/1951": 23.36, "11/1951": 22.71, "12/1951": 23.41,
      "01/1952": 24.19, "02/1952": 23.75, "03/1952": 23.81, "04/1952": 23.74, "05/1952": 23.73, "06/1952": 24.38,
      "07/1952": 25.08, "08/1952": 25.18, "09/1952": 24.78, "10/1952": 24.26, "11/1952": 25.03, "12/1952": 26.04,
      "01/1953": 26.18, "02/1953": 25.86, "03/1953": 25.99, "04/1953": 24.71, "05/1953": 24.84, "06/1953": 23.95,
      "07/1953": 24.29, "08/1953": 24.39, "09/1953": 23.27, "10/1953": 23.97, "11/1953": 24.50, "12/1953": 24.83,
      "01/1954": 25.46, "02/1954": 26.02, "03/1954": 26.57, "04/1954": 27.63, "05/1954": 28.73, "06/1954": 28.96,
      "07/1954": 30.13, "08/1954": 30.73, "09/1954": 31.45, "10/1954": 32.18, "11/1954": 33.44, "12/1954": 34.97,
      "01/1955": 35.60, "02/1955": 36.79, "03/1955": 36.50, "04/1955": 37.76, "05/1955": 37.60, "06/1955": 39.78,
      "07/1955": 42.69, "08/1955": 42.43, "09/1955": 44.34, "10/1955": 42.11, "11/1955": 44.95, "12/1955": 45.37,
      "01/1956": 44.15, "02/1956": 44.43, "03/1956": 47.49, "04/1956": 48.05, "05/1956": 46.54, "06/1956": 46.27,
      "07/1956": 48.78, "08/1956": 48.49, "09/1956": 46.84, "10/1956": 46.24, "11/1956": 45.76, "12/1956": 46.44,
      "01/1957": 45.43, "02/1957": 43.47, "03/1957": 44.03, "04/1957": 45.05, "05/1957": 46.78, "06/1957": 47.55,
      "07/1957": 48.51, "08/1957": 45.84, "09/1957": 43.98, "10/1957": 41.24, "11/1957": 40.35, "12/1957": 40.33,
      "01/1958": 41.12, "02/1958": 41.26, "03/1958": 42.11, "04/1958": 42.34, "05/1958": 43.70, "06/1958": 44.75,
      "07/1958": 45.98, "08/1958": 47.70, "09/1958": 48.96, "10/1958": 50.95, "11/1958": 52.50, "12/1958": 53.49,
      "01/1959": 55.62, "02/1959": 54.77, "03/1959": 56.16, "04/1959": 57.10, "05/1959": 57.96, "06/1959": 57.46,
      "07/1959": 59.74, "08/1959": 59.40, "09/1959": 57.05, "10/1959": 57.00, "11/1959": 57.23, "12/1959": 59.06,
      "01/1960": 58.03, "02/1960": 55.78, "03/1960": 55.02, "04/1960": 55.73, "05/1960": 55.22, "06/1960": 57.26,
      "07/1960": 55.84, "08/1960": 56.51, "09/1960": 54.81, "10/1960": 53.73, "11/1960": 55.47, "12/1960": 56.80,
      "01/1961": 59.72, "02/1961": 62.17, "03/1961": 64.12, "04/1961": 65.83, "05/1961": 66.50, "06/1961": 65.62,
      "07/1961": 65.44, "08/1961": 67.79, "09/1961": 67.26, "10/1961": 68.00, "11/1961": 71.08, "12/1961": 71.74,
      "01/1962": 69.07, "02/1962": 70.22, "03/1962": 70.29, "04/1962": 68.05, "05/1962": 62.99, "06/1962": 55.63,
      "07/1962": 56.97, "08/1962": 58.52, "09/1962": 58.00, "10/1962": 56.17, "11/1962": 60.04, "12/1962": 62.64,
      "01/1963": 65.06, "02/1963": 65.92, "03/1963": 65.67, "04/1963": 68.76, "05/1963": 70.14, "06/1963": 70.11,
      "07/1963": 69.07, "08/1963": 70.98, "09/1963": 72.85, "10/1963": 73.03, "11/1963": 72.62, "12/1963": 74.17,
      "01/1964": 76.45, "02/1964": 77.39, "03/1964": 78.80, "04/1964": 79.94, "05/1964": 80.72, "06/1964": 80.24,
      "07/1964": 83.22, "08/1964": 82.00, "09/1964": 83.41, "10/1964": 84.85, "11/1964": 85.44, "12/1964": 83.96,
      "01/1965": 86.12, "02/1965": 86.75, "03/1965": 86.83, "04/1965": 87.97, "05/1965": 89.28, "06/1965": 85.04,
      "07/1965": 84.91, "08/1965": 86.49, "09/1965": 89.38, "10/1965": 91.39, "11/1965": 92.15, "12/1965": 91.73,
      "01/1966": 93.32, "02/1966": 92.69, "03/1966": 88.88, "04/1966": 91.60, "05/1966": 86.78, "06/1966": 86.06,
      "07/1966": 85.84, "08/1966": 80.65, "09/1966": 77.81, "10/1966": 77.13, "11/1966": 80.99, "12/1966": 81.33,
      "01/1967": 84.45, "02/1967": 87.36, "03/1967": 89.42, "04/1967": 90.96, "05/1967": 92.59, "06/1967": 91.43,
      "07/1967": 93.01, "08/1967": 94.49, "09/1967": 95.81, "10/1967": 95.66, "11/1967": 92.66, "12/1967": 95.30,
      "01/1968": 95.04, "02/1968": 90.75, "03/1968": 89.09, "04/1968": 95.67, "05/1968": 97.87, "06/1968": 100.50,
      "07/1968": 100.30, "08/1968": 98.11, "09/1968": 101.30, "10/1968": 103.80, "11/1968": 105.40, "12/1968": 106.50,
      "01/1969": 102.00, "02/1969": 101.50, "03/1969": 99.30, "04/1969": 101.30, "05/1969": 104.60, "06/1969": 99.14,
      "07/1969": 94.71, "08/1969": 94.18, "09/1969": 94.51, "10/1969": 95.52, "11/1969": 96.21, "12/1969": 91.11,
      "01/1970": 90.31, "02/1970": 87.16, "03/1970": 88.65, "04/1970": 85.95, "05/1970": 76.06, "06/1970": 75.59,
      "07/1970": 75.72, "08/1970": 77.92, "09/1970": 82.58, "10/1970": 84.37, "11/1970": 84.28, "12/1970": 90.05,
      "01/1971": 93.49, "02/1971": 97.11, "03/1971": 99.60, "04/1971": 103.00, "05/1971": 101.60, "06/1971": 99.72,
      "07/1971": 99.00, "08/1971": 97.24, "09/1971": 99.40, "10/1971": 97.29, "11/1971": 92.78, "12/1971": 99.17,
      "01/1972": 103.30, "02/1972": 105.20, "03/1972": 107.70, "04/1972": 108.80, "05/1972": 107.70, "06/1972": 108.00,
      "07/1972": 107.20, "08/1972": 111.00, "09/1972": 109.40, "10/1972": 109.60, "11/1972": 115.10, "12/1972": 117.50,
      "01/1973": 118.40, "02/1973": 114.20, "03/1973": 112.40, "04/1973": 110.30, "05/1973": 107.20, "06/1973": 104.80,
      "07/1973": 105.80, "08/1973": 103.80, "09/1973": 105.60, "10/1973": 109.80, "11/1973": 102.00, "12/1973": 94.78,
      "01/1974": 96.11, "02/1974": 93.45, "03/1974": 97.44, "04/1974": 92.46, "05/1974": 89.67, "06/1974": 89.79,
      "07/1974": 79.31, "08/1974": 76.03, "09/1974": 68.12, "10/1974": 69.44, "11/1974": 71.74, "12/1974": 67.07,
      "01/1975": 72.56, "02/1975": 80.10, "03/1975": 83.78, "04/1975": 84.72, "05/1975": 90.10, "06/1975": 92.40,
      "07/1975": 92.49, "08/1975": 85.71, "09/1975": 84.67, "10/1975": 88.57, "11/1975": 90.07, "12/1975": 88.70,
      "01/1976": 96.86, "02/1976": 100.60, "03/1976": 101.10, "04/1976": 101.90, "05/1976": 101.20, "06/1976": 101.80,
      "07/1976": 104.20, "08/1976": 103.30, "09/1976": 105.50, "10/1976": 101.90, "11/1976": 101.20, "12/1976": 104.70,
      "01/1977": 103.80, "02/1977": 101.00, "03/1977": 100.60, "04/1977": 99.05, "05/1977": 98.76, "06/1977": 99.29,
      "07/1977": 100.20, "08/1977": 97.75, "09/1977": 96.23, "10/1977": 93.74, "11/1977": 94.28, "12/1977": 93.82,
      "01/1978": 90.25, "02/1978": 88.98, "03/1978": 88.82, "04/1978": 92.71, "05/1978": 97.41, "06/1978": 97.66,
      "07/1978": 97.19, "08/1978": 103.90, "09/1978": 103.90, "10/1978": 100.60, "11/1978": 94.71, "12/1978": 96.11,
      "01/1979": 99.71, "02/1979": 98.23, "03/1979": 100.10, "04/1979": 102.10, "05/1979": 99.73, "06/1979": 101.70,
      "07/1979": 102.70, "08/1979": 107.40, "09/1979": 108.60, "10/1979": 104.50, "11/1979": 103.70, "12/1979": 107.80,
      "01/1980": 110.90, "02/1980": 115.30, "03/1980": 104.70, "04/1980": 103.00, "05/1980": 107.70, "06/1980": 114.60,
      "07/1980": 119.80, "08/1980": 123.50, "09/1980": 126.50, "10/1980": 130.20, "11/1980": 135.70, "12/1980": 133.50,
      "01/1981": 133.00, "02/1981": 128.40, "03/1981": 133.20, "04/1981": 134.40, "05/1981": 131.70, "06/1981": 132.30,
      "07/1981": 129.10, "08/1981": 129.60, "09/1981": 118.30, "10/1981": 119.80, "11/1981": 122.90, "12/1981": 123.80,
      "01/1982": 117.30, "02/1982": 114.50, "03/1982": 110.80, "04/1982": 116.30, "05/1982": 116.40, "06/1982": 109.70,
      "07/1982": 109.40, "08/1982": 109.70, "09/1982": 122.40, "10/1982": 132.70, "11/1982": 138.10, "12/1982": 139.40,
      "01/1983": 144.30, "02/1983": 146.80, "03/1983": 151.90, "04/1983": 157.70, "05/1983": 164.10, "06/1983": 166.40,
      "07/1983": 167.00, "08/1983": 162.40, "09/1983": 167.20, "10/1983": 167.70, "11/1983": 165.20, "12/1983": 164.40,
      "01/1984": 166.40, "02/1984": 157.30, "03/1984": 157.40, "04/1984": 157.60, "05/1984": 156.60, "06/1984": 153.10,
      "07/1984": 151.10, "08/1984": 164.40, "09/1984": 166.10, "10/1984": 164.80, "11/1984": 166.30, "12/1984": 164.50,
      "01/1985": 171.60, "02/1985": 180.90, "03/1985": 179.40, "04/1985": 180.60, "05/1985": 184.90, "06/1985": 188.90,
      "07/1985": 192.50, "08/1985": 188.30, "09/1985": 184.10, "10/1985": 186.20, "11/1985": 197.50, "12/1985": 207.30,
      "01/1986": 208.20, "02/1986": 219.40, "03/1986": 232.30, "04/1986": 238.00, "05/1986": 238.50, "06/1986": 245.30,
      "07/1986": 240.20, "08/1986": 245.00, "09/1986": 238.30, "10/1986": 237.40, "11/1986": 245.10, "12/1986": 248.60,
      "01/1987": 264.50, "02/1987": 280.90, "03/1987": 292.50, "04/1987": 289.30, "05/1987": 289.10, "06/1987": 301.40,
      "07/1987": 310.10, "08/1987": 329.40, "09/1987": 318.70, "10/1987": 280.20, "11/1987": 245.00, "12/1987": 241.00,
      "01/1988": 250.50, "02/1988": 258.10, "03/1988": 265.70, "04/1988": 262.60, "05/1988": 256.10, "06/1988": 270.70,
      "07/1988": 269.10, "08/1988": 263.70, "09/1988": 268.00, "10/1988": 277.40, "11/1988": 271.00, "12/1988": 276.50,
      "01/1989": 285.40, "02/1989": 294.00, "03/1989": 292.70, "04/1989": 302.30, "05/1989": 313.90, "06/1989": 323.70,
      "07/1989": 331.90, "08/1989": 346.60, "09/1989": 347.30, "10/1989": 347.40, "11/1989": 340.20, "12/1989": 348.60,
      "01/1990": 339.97, "02/1990": 330.45, "03/1990": 338.46, "04/1990": 338.18, "05/1990": 350.25, "06/1990": 360.39,
      "07/1990": 360.03, "08/1990": 330.75, "09/1990": 315.41, "10/1990": 307.12, "11/1990": 315.29, "12/1990": 328.75,
      "01/1991": 325.49, "02/1991": 362.26, "03/1991": 372.28, "04/1991": 379.68, "05/1991": 377.99, "06/1991": 378.29,
      "07/1991": 380.23, "08/1991": 389.40, "09/1991": 387.20, "10/1991": 386.88, "11/1991": 385.92, "12/1991": 388.51,
      "01/1992": 416.08, "02/1992": 412.56, "03/1992": 407.36, "04/1992": 407.41, "05/1992": 414.81, "06/1992": 408.27,
      "07/1992": 415.05, "08/1992": 417.93, "09/1992": 418.48, "10/1992": 412.50, "11/1992": 422.84, "12/1992": 435.64,
      "01/1993": 435.23, "02/1993": 441.70, "03/1993": 450.16, "04/1993": 443.08, "05/1993": 445.25, "06/1993": 448.06,
      "07/1993": 447.29, "08/1993": 454.13, "09/1993": 459.24, "10/1993": 463.90, "11/1993": 462.89, "12/1993": 465.95,
      "01/1994": 472.99, "02/1994": 471.58, "03/1994": 463.81, "04/1994": 447.23, "05/1994": 450.90, "06/1994": 454.83,
      "07/1994": 451.40, "08/1994": 464.24, "09/1994": 466.96, "10/1994": 463.81, "11/1994": 461.01, "12/1994": 455.19,
      "01/1995": 465.25, "02/1995": 481.92, "03/1995": 493.15, "04/1995": 507.91, "05/1995": 523.81, "06/1995": 539.35,
      "07/1995": 557.37, "08/1995": 559.11, "09/1995": 578.77, "10/1995": 582.92, "11/1995": 595.53, "12/1995": 614.57,
      "01/1996": 614.42, "02/1996": 649.54, "03/1996": 647.07, "04/1996": 647.17, "05/1996": 661.23, "06/1996": 668.50,
      "07/1996": 644.07, "08/1996": 662.68, "09/1996": 674.88, "10/1996": 701.46, "11/1996": 735.67, "12/1996": 743.25,
      "01/1997": 766.22, "02/1997": 798.39, "03/1997": 792.16, "04/1997": 763.93, "05/1997": 833.09, "06/1997": 876.29,
      "07/1997": 925.29, "08/1997": 927.24, "09/1997": 937.02, "10/1997": 951.16, "11/1997": 938.92, "12/1997": 962.37,
      "01/1998": 963.36, "02/1998": 1023.74, "03/1998": 1076.83, "04/1998": 1112.20, "05/1998": 1108.42, "06/1998": 1108.39,
      "07/1998": 1156.58, "08/1998": 1074.62, "09/1998": 1020.64, "10/1998": 1032.47, "11/1998": 1144.43, "12/1998": 1190.05,
      "01/1999": 1248.77, "02/1999": 1246.58, "03/1999": 1281.66, "04/1999": 1334.76, "05/1999": 1332.07, "06/1999": 1322.55,
      "07/1999": 1380.99, "08/1999": 1327.49, "09/1999": 1318.17, "10/1999": 1300.01, "11/1999": 1391.00, "12/1999": 1428.68,
      "01/2000": 1425.59, "02/2000": 1388.87, "03/2000": 1442.21, "04/2000": 1461.36, "05/2000": 1418.48, "06/2000": 1461.96,
      "07/2000": 1473.00, "08/2000": 1485.46, "09/2000": 1468.05, "10/2000": 1390.14, "11/2000": 1378.04, "12/2000": 1330.93,
      "01/2001": 1335.63, "02/2001": 1305.75, "03/2001": 1185.85, "04/2001": 1189.84, "05/2001": 1270.37, "06/2001": 1238.71,
      "07/2001": 1204.45, "08/2001": 1178.50, "09/2001": 1044.64, "10/2001": 1076.59, "11/2001": 1129.68, "12/2001": 1144.93,
      "01/2002": 1140.21, "02/2002": 1100.67, "03/2002": 1153.79, "04/2002": 1111.93, "05/2002": 1079.25, "06/2002": 1014.02,
      "07/2002": 903.59, "08/2002": 912.55, "09/2002": 867.81, "10/2002": 854.63, "11/2002": 909.93, "12/2002": 899.18,
      "01/2003": 895.84, "02/2003": 837.03, "03/2003": 846.63, "04/2003": 890.03, "05/2003": 935.96, "06/2003": 988.00,
      "07/2003": 992.54, "08/2003": 989.53, "09/2003": 1019.44, "10/2003": 1038.73, "11/2003": 1049.90, "12/2003": 1080.64,
      "01/2004": 1132.52, "02/2004": 1143.36, "03/2004": 1123.98, "04/2004": 1133.36, "05/2004": 1102.78, "06/2004": 1132.76,
      "07/2004": 1105.85, "08/2004": 1088.94, "09/2004": 1117.66, "10/2004": 1117.21, "11/2004": 1168.94, "12/2004": 1199.21,
      "01/2005": 1181.41, "02/2005": 1199.63, "03/2005": 1194.90, "04/2005": 1164.43, "05/2005": 1178.28, "06/2005": 1202.25,
      "07/2005": 1222.24, "08/2005": 1224.27, "09/2005": 1225.92, "10/2005": 1191.96, "11/2005": 1237.37, "12/2005": 1262.07,
      "01/2006": 1278.73, "02/2006": 1276.65, "03/2006": 1293.74, "04/2006": 1302.17, "05/2006": 1290.01, "06/2006": 1253.17,
      "07/2006": 1260.24, "08/2006": 1287.15, "09/2006": 1317.74, "10/2006": 1363.38, "11/2006": 1388.64, "12/2006": 1416.42,
      "01/2007": 1424.16, "02/2007": 1444.80, "03/2007": 1406.95, "04/2007": 1463.64, "05/2007": 1511.14, "06/2007": 1514.19,
      "07/2007": 1520.71, "08/2007": 1454.62, "09/2007": 1497.12, "10/2007": 1539.66, "11/2007": 1463.39, "12/2007": 1479.22,
      "01/2008": 1378.76, "02/2008": 1354.87, "03/2008": 1316.94, "04/2008": 1370.47, "05/2008": 1403.22, "06/2008": 1341.25,
      "07/2008": 1257.33, "08/2008": 1281.47, "09/2008": 1216.95, "10/2008": 968.80, "11/2008": 883.04, "12/2008": 877.56,
      "01/2009": 865.58, "02/2009": 805.23, "03/2009": 757.13, "04/2009": 848.15, "05/2009": 902.41, "06/2009": 926.12,
      "07/2009": 935.82, "08/2009": 1009.73, "09/2009": 1044.55, "10/2009": 1067.66, "11/2009": 1088.07, "12/2009": 1110.38,
      "01/2010": 1123.58, "02/2010": 1089.16, "03/2010": 1152.05, "04/2010": 1197.32, "05/2010": 1125.06, "06/2010": 1083.36,
      "07/2010": 1079.80, "08/2010": 1087.28, "09/2010": 1122.08, "10/2010": 1171.58, "11/2010": 1198.89, "12/2010": 1241.53,
      "01/2011": 1282.62, "02/2011": 1321.12, "03/2011": 1304.49, "04/2011": 1331.51, "05/2011": 1338.31, "06/2011": 1287.29,
      "07/2011": 1325.19, "08/2011": 1185.31, "09/2011": 1173.88, "10/2011": 1207.22, "11/2011": 1226.42, "12/2011": 1243.32,
      "01/2012": 1300.58, "02/2012": 1352.49, "03/2012": 1389.24, "04/2012": 1386.43, "05/2012": 1341.27, "06/2012": 1323.48,
      "07/2012": 1359.78, "08/2012": 1403.45, "09/2012": 1443.42, "10/2012": 1437.82, "11/2012": 1394.51, "12/2012": 1422.29,
      "01/2013": 1480.40, "02/2013": 1512.31, "03/2013": 1550.83, "04/2013": 1570.70, "05/2013": 1639.84, "06/2013": 1618.77,
      "07/2013": 1668.68, "08/2013": 1670.09, "09/2013": 1687.17, "10/2013": 1720.03, "11/2013": 1783.54, "12/2013": 1807.78,
      "01/2014": 1822.36, "02/2014": 1817.04, "03/2014": 1863.52, "04/2014": 1864.26, "05/2014": 1889.77, "06/2014": 1947.09,
      "07/2014": 1973.10, "08/2014": 1961.53, "09/2014": 1993.23, "10/2014": 1937.27, "11/2014": 2044.57, "12/2014": 2054.27,
      "01/2015": 2028.18, "02/2015": 2082.20, "03/2015": 2079.99, "04/2015": 2094.86, "05/2015": 2111.94, "06/2015": 2099.29,
      "07/2015": 2094.14, "08/2015": 2039.87, "09/2015": 1944.41, "10/2015": 2024.81, "11/2015": 2080.62, "12/2015": 2054.08,
      "01/2016": 1918.60, "02/2016": 1904.42, "03/2016": 2021.95, "04/2016": 2075.54, "05/2016": 2065.55, "06/2016": 2083.89,
      "07/2016": 2148.90, "08/2016": 2170.95, "09/2016": 2157.69, "10/2016": 2143.02, "11/2016": 2164.99, "12/2016": 2246.63,
      "01/2017": 2275.12, "02/2017": 2329.91, "03/2017": 2366.82, "04/2017": 2358.84, "05/2017": 2388.33, "06/2017": 2430.06,
      "07/2017": 2431.39, "08/2017": 2477.10, "09/2017": 2474.42, "10/2017": 2521.20, "11/2017": 2647.58, "12/2017": 2673.61,
      "01/2018": 2823.81, "02/2018": 2713.83, "03/2018": 2640.87, "04/2018": 2648.05, "05/2018": 2705.27, "06/2018": 2718.37
    }

    var gdp_usa_trillions = {
      1929: 0.105,
      1930: 0.092,
      1931: 0.077,
      1932: 0.060,
      1933: 0.057,
      1934: 0.067,
      1935: 0.074,
      1936: 0.085,
      1937: 0.093,
      1938: 0.087,
      1939: 0.094,
      1940: 0.103,
      1941: 0.129,
      1942: 0.166,
      1943: 0.203,
      1944: 0.225,
      1945: 0.228,
      1946: 0.228,
      1947: 0.250,
      1948: 0.275,
      1949: 0.273,
      1950: 0.300,
      1951: 0.347,
      1952: 0.368,
      1953: 0.390,
      1954: 0.391,
      1955: 0.426,
      1956: 0.450,
      1957: 0.475,
      1958: 0.482,
      1959: 0.523,
      1960: 0.543,
      1961: 0.563,
      1962: 0.605,
      1963: 0.639,
      1964: 0.686,
      1965: 0.744,
      1966: 0.815,
      1967: 0.862,
      1968: 0.943,
      1969: 1.020,
      1970: 1.076,
      1971: 1.168,
      1972: 1.282,
      1973: 1.429,
      1974: 1.549,
      1975: 1.689,
      1976: 1.878,
      1977: 2.086,
      1978: 2.357,
      1979: 2.632,
      1980: 2.863,
      1981: 3.211,
      1982: 3.345,
      1983: 3.638,
      1984: 4.041,
      1985: 4.347,
      1986: 4.590,
      1987: 4.870,
      1988: 5.253,
      1989: 5.658,
      1990: 5.980,
      1991: 6.174,
      1992: 6.539,
      1993: 6.879,
      1994: 7.309,
      1995: 7.664,
      1996: 8.100,
      1997: 8.609,
      1998: 9.089,
      1999: 9.661,
      2000: 10.285,
      2001: 10.622,
      2002: 10.978,
      2003: 11.511,
      2004: 12.275,
      2005: 13.094,
      2006: 13.856,
      2007: 14.478,
      2008: 14.719,
      2009: 14.419,
      2010: 14.964,
      2011: 15.518,
      2012: 16.155,
      2013: 16.692,
      2014: 17.428,
      2015: 18.121,
      2016: 18.625,
      2017: 19.738
    }

    var sp_tsx_values = {
      // "05/1979": 1614.69, "06/1979": 1618.40,
      // "07/1979": 1558.09, "08/1979": 1695.30, "09/1979": 1751.90, "10/1979": 1580.00, "11/1979": 1699.59, "12/1979": 1813.19,
      // "01/1980": 2027.69, "02/1980": 2192.60, "03/1980": 1802.30, "04/1980": 1870.90, "05/1980": 1975.59, "06/1980": 2061.30,
      // "07/1980": 2200.50, "08/1980": 2218.19, "09/1980": 2267.39, "10/1980": 2247.10, "11/1980": 2405.69, "12/1980": 2270.80,
      // "01/1981": 2226.80, "02/1981": 2178.00, "03/1981": 2336.69, "04/1981": 2305.19, "05/1981": 2369.30, "06/1981": 2361.10,
      // "07/1981": 2253.89, "08/1981": 2179.19, "09/1981": 1880.69, "10/1981": 1856.30, "11/1981": 2013.19, "12/1981": 1952.19,
      "01/1982": 1773.50, "02/1982": 1670.00, "03/1982": 1584.80, "04/1982": 1546.59, "05/1982": 1511.90, "06/1982": 1366.80,
      "07/1982": 1411.90, "08/1982": 1614.09, "09/1982": 1596.09, "10/1982": 1772.59, "11/1982": 1846.19, "12/1982": 1958.09,
      "01/1983": 2034.80, "02/1983": 2110.10, "03/1983": 2156.89, "04/1983": 2342.50, "05/1983": 2402.80, "06/1983": 2447.00,
      "07/1983": 2477.60, "08/1983": 2488.00, "09/1983": 2479.60, "10/1983": 2369.80, "11/1983": 2538.50, "12/1983": 2551.89,
      "01/1984": 2473.19, "02/1984": 2419.00, "03/1984": 2382.80, "04/1984": 2325.00, "05/1984": 2238.80, "06/1984": 2220.89,
      "07/1984": 2147.39, "08/1984": 2391.80, "09/1984": 2385.60, "10/1984": 2352.39, "11/1984": 2364.89, "12/1984": 2398.39,
      "01/1985": 2584.00, "02/1985": 2601.39, "03/1985": 2614.30, "04/1985": 2637.19, "05/1985": 2744.39, "06/1985": 2712.50,
      "07/1985": 2782.00, "08/1985": 2814.39, "09/1985": 2631.30, "10/1985": 2677.39, "11/1985": 2854.89, "12/1985": 2898.19,
      "01/1986": 2840.69, "02/1986": 2854.80, "03/1986": 3045.69, "04/1986": 3062.30, "05/1986": 3120.00, "06/1986": 3085.50,
      "07/1986": 2936.69, "08/1986": 3035.89, "09/1986": 2983.00, "10/1986": 3042.50, "11/1986": 3046.30, "12/1986": 3064.00,
      "01/1987": 3350.50, "02/1987": 3506.80, "03/1987": 3725.10, "04/1987": 3718.60, "05/1987": 3681.80, "06/1987": 3740.19,
      "07/1987": 4030.39, "08/1987": 4003.00, "09/1987": 3901.19, "10/1987": 3023.50, "11/1987": 2992.10, "12/1987": 3168.39,
      "01/1988": 3065.00, "02/1988": 3213.50, "03/1988": 3313.39, "04/1988": 3335.39, "05/1988": 3271.39, "06/1988": 3441.50,
      "07/1988": 3376.69, "08/1988": 3269.60, "09/1988": 3277.80, "10/1988": 3387.89, "11/1988": 3297.69, "12/1988": 3377.60,
      "01/1989": 3611.80, "02/1989": 3577.00, "03/1989": 3574.19, "04/1989": 3606.10, "05/1989": 3702.80, "06/1989": 3760.89,
      "07/1989": 3982.69, "08/1989": 4011.39, "09/1989": 3944.00, "10/1989": 3917.89, "11/1989": 3950.30, "12/1989": 3962.19,
      "01/1990": 3714.00, "02/1990": 3682.50, "03/1990": 3599.39, "04/1990": 3349.10, "05/1990": 3607.00, "06/1990": 3543.89,
      "07/1990": 3560.60, "08/1990": 3327.10, "09/1990": 3169.69, "10/1990": 3074.19, "11/1990": 3161.19, "12/1990": 3246.10,
      "01/1991": 3271.80, "02/1991": 3445.50, "03/1991": 3491.30, "04/1991": 3471.60, "05/1991": 3540.80, "06/1991": 3465.80,
      "07/1991": 3536.10, "08/1991": 3512.80, "09/1991": 3393.89, "10/1991": 3520.10, "11/1991": 3430.39, "12/1991": 3493.00,
      "01/1992": 3589.60, "02/1992": 3573.50, "03/1992": 3393.30, "04/1992": 3364.39, "05/1992": 3377.89, "06/1992": 3387.69,
      "07/1992": 3443.39, "08/1992": 3399.10, "09/1992": 3304.80, "10/1992": 3335.00, "11/1992": 3278.80, "12/1992": 3349.00,
      "01/1993": 3308.39, "02/1993": 3447.80, "03/1993": 3598.60, "04/1993": 3787.60, "05/1993": 3875.50, "06/1993": 3966.39,
      "07/1993": 3967.19, "08/1993": 4124.00, "09/1993": 3985.00, "10/1993": 4228.29, "11/1993": 4195.70, "12/1993": 4321.39,
      "01/1994": 4574.79, "02/1994": 4408.79, "03/1994": 4250.70, "04/1994": 4275.60, "05/1994": 4314.79, "06/1994": 4025.30,
      "07/1994": 4179.00, "08/1994": 4335.39, "09/1994": 4352.60, "10/1994": 4278.20, "11/1994": 4096.20, "12/1994": 4192.89,
      "01/1995": 4039.00, "02/1995": 4113.89, "03/1995": 4305.29, "04/1995": 4276.29, "05/1995": 4448.70, "06/1995": 4527.20,
      "07/1995": 4604.89, "08/1995": 4510.79, "09/1995": 4513.29, "10/1995": 4449.10, "11/1995": 4658.00, "12/1995": 4707.39,
      "01/1996": 4983.39, "02/1996": 4947.20, "03/1996": 4970.20, "04/1996": 5142.70, "05/1996": 5234.60, "06/1996": 5044.10,
      "07/1996": 4933.20, "08/1996": 5120.00, "09/1996": 5296.29, "10/1996": 5606.00, "11/1996": 5978.89, "12/1996": 5917.79,
      "01/1997": 6123.20, "02/1997": 6125.00, "03/1997": 5840.29, "04/1997": 5973.29, "05/1997": 6403.39, "06/1997": 6437.70,
      "07/1997": 6877.29, "08/1997": 6618.29, "09/1997": 7070.70, "10/1997": 6919.60, "11/1997": 6537.89, "12/1997": 6708.89,
      "01/1998": 6769.39, "02/1998": 7106.89, "03/1998": 7549.70, "04/1998": 7706.10, "05/1998": 7558.89, "06/1998": 7366.89,
      "07/1998": 6931.39, "08/1998": 5566.39, "09/1998": 5533.50, "10/1998": 6279.20, "11/1998": 6316.50, "12/1998": 6522.20,
      "01/1999": 6754.79, "02/1999": 6289.60, "03/1999": 6613.10, "04/1999": 7020.10, "05/1999": 6841.79, "06/1999": 7010.10,
      "07/1999": 7081.00, "08/1999": 6993.00, "09/1999": 6906.39, "10/1999": 7227.10, "11/1999": 7691.39, "12/1999": 8413.79,
      "01/2000": 8496.29, "02/2000": 9317.90, "03/2000": 9520.70, "04/2000": 9399.09, "05/2000": 9397.90, "06/2000": 10195.50,
      "07/2000": 10456.70, "08/2000": 11375.40, "09/2000": 10491.70, "10/2000": 9561.29, "11/2000": 8896.79, "12/2000": 8961.79,
      "01/2001": 9276.40, "02/2001": 8033.10, "03/2001": 7633.29, "04/2001": 7915.60, "05/2001": 8180.10, "06/2001": 7736.39,
      "07/2001": 7703.00, "08/2001": 7420.29, "09/2001": 6801.89, "10/2001": 6904.60, "11/2001": 7366.00, "12/2001": 7679.60,
      "01/2002": 7641.10, "02/2002": 7672.89, "03/2002": 7854.00, "04/2002": 7646.60, "05/2002": 7631.39, "06/2002": 7145.60,
      "07/2002": 6573.10, "08/2002": 6565.70, "09/2002": 6177.89, "10/2002": 6247.79, "11/2002": 6652.00, "12/2002": 6632.29,
      "01/2003": 6591.29, "02/2003": 6570.50, "03/2003": 6351.20, "04/2003": 6584.10, "05/2003": 6885.79, "06/2003": 6983.10,
      "07/2003": 7226.50, "08/2003": 7507.70, "09/2003": 7433.10, "10/2003": 7799.00, "11/2003": 7896.50, "12/2003": 8241.20,
      "01/2004": 8546.90, "02/2004": 8840.59, "03/2004": 8632.09, "04/2004": 8283.79, "05/2004": 8390.20, "06/2004": 8545.59,
      "07/2004": 8458.09, "08/2004": 8356.09, "09/2004": 8665.09, "10/2004": 8877.70, "11/2004": 9037.79, "12/2004": 9246.70,
      "01/2005": 9211.50, "02/2005": 9701.20, "03/2005": 9675.29, "04/2005": 9349.09, "05/2005": 9618.40, "06/2005": 9902.79,
      "07/2005": 10422.90, "08/2005": 10675.59, "09/2005": 11035.00, "10/2005": 10390.00, "11/2005": 10868.20, "12/2005": 11304.59,
      "01/2006": 11962.79, "02/2006": 11694.70, "03/2006": 12200.70, "04/2006": 12289.20, "05/2006": 11695.00, "06/2006": 11612.90,
      "07/2006": 11864.09, "08/2006": 12121.59, "09/2006": 11767.40, "10/2006": 12023.29, "11/2006": 12757.40, "12/2006": 12924.50,
      "01/2007": 13090.70, "02/2007": 12920.00, "03/2007": 13185.29, "04/2007": 13430.20, "05/2007": 14084.50, "06/2007": 13906.59,
      "07/2007": 13751.79, "08/2007": 13673.70, "09/2007": 14113.09, "10/2007": 14485.70, "11/2007": 13671.59, "12/2007": 13907.70,
      "01/2008": 13202.59, "02/2008": 13622.50, "03/2008": 13337.70, "04/2008": 13920.29, "05/2008": 14673.90, "06/2008": 14467.00,
      "07/2008": 13645.09, "08/2008": 13558.79, "09/2008": 11730.70, "10/2008": 9841.29, "11/2008": 8816.40, "12/2008": 8951.90,
      "01/2009": 8603.00, "02/2009": 7997.60, "03/2009": 8647.59, "04/2009": 9369.20, "05/2009": 10530.79, "06/2009": 10374.90,
      "07/2009": 10787.20, "08/2009": 10840.90, "09/2009": 11403.29, "10/2009": 10896.70, "11/2009": 11574.70, "12/2009": 11847.29,
      "01/2010": 11147.50, "02/2010": 11682.79, "03/2010": 12069.90, "04/2010": 12274.00, "05/2010": 11702.20, "06/2010": 11294.40,
      "07/2010": 11713.40, "08/2010": 11978.29, "09/2010": 12400.09, "10/2010": 12725.90, "11/2010": 13067.00, "12/2010": 13443.20,
      "01/2011": 13617.70, "02/2011": 14167.00, "03/2011": 14118.20, "04/2011": 13944.79, "05/2011": 13806.09, "06/2011": 13300.90,
      "07/2011": 12945.59, "08/2011": 12770.70, "09/2011": 11516.90, "10/2011": 11963.20, "11/2011": 12174.09, "12/2011": 12097.20,
      "01/2012": 12510.70, "02/2012": 12643.00, "03/2012": 12381.50, "04/2012": 12325.70, "05/2012": 11413.09, "06/2012": 11596.59,
      "07/2012": 11693.09, "08/2012": 11978.00, "09/2012": 12372.50, "10/2012": 12408.50, "11/2012": 12253.70, "12/2012": 12571.79,
      "01/2013": 12741.20, "02/2013": 12798.70, "03/2013": 12751.59, "04/2013": 12408.00, "05/2013": 12661.20, "06/2013": 12178.00,
      "07/2013": 12486.59, "08/2013": 12654.29, "09/2013": 12787.20, "10/2013": 13362.90, "11/2013": 13395.40, "12/2013": 13621.40,
      "01/2014": 13694.90, "02/2014": 14209.70, "03/2014": 14335.29, "04/2014": 14651.90, "05/2014": 14604.20, "06/2014": 15146.00,
      "07/2014": 15330.79, "08/2014": 15626.90, "09/2014": 14958.50, "10/2014": 14632.20, "11/2014": 14753.50, "12/2014": 14637.29,
      "01/2015": 14713.90, "02/2015": 15240.90, "03/2015": 14925.20, "04/2015": 15224.40, "05/2015": 15040.90, "06/2015": 14588.20,
      "07/2015": 14465.79, "08/2015": 13691.79, "09/2015": 13362.50, "10/2015": 13531.00, "11/2015": 13488.40, "12/2015": 12920.59,
      "01/2016": 12766.20, "02/2016": 12896.29, "03/2016": 13404.59, "04/2016": 13963.90, "05/2016": 14017.00, "06/2016": 14200.09,
      "07/2016": 14555.20, "08/2016": 14573.29, "09/2016": 14722.50, "10/2016": 14827.90, "11/2016": 15138.59, "12/2016": 15366.79,
      "01/2017": 15423.79, "02/2017": 15534.70, "03/2017": 15587.00, "04/2017": 15601.70, "05/2017": 15363.09, "06/2017": 15217.40,
      "07/2017": 15192.09, "08/2017": 15194.70, "09/2017": 15640.00, "10/2017": 16093.40, "11/2017": 16058.20, "12/2017": 16213.40,
      "01/2018": 15920.00, "02/2018": 15442.68, "03/2018": 15367.29, "04/2018": 15607.88, "05/2018": 16061.50, "06/2018": 16277.73
    }

    var gdp_canada_trillions = {
      1981: 0.381,
      1982: 0.392,
      1983: 0.435,
      1984: 0.471,
      1985: 0.511,
      1986: 0.529,
      1987: 0.591,
      1988: 0.640,
      1989: 0.677,
      1990: 0.692,
      1991: 0.702,
      1992: 0.721,
      1993: 0.753,
      1994: 0.806,
      1995: 0.835,
      1996: 0.874,
      1997: 0.919,
      1998: 0.950,
      1999: 1.035,
      2000: 1.126,
      2001: 1.127,
      2002: 1.214,
      2003: 1.262,
      2004: 1.341,
      2005: 1.458,
      2006: 1.503,
      2007: 1.596,
      2008: 1.609,
      2009: 1.608,
      2010: 1.698,
      2011: 1.809,
      2012: 1.840,
      2013: 1.928,
      2014: 2.009,
      2015: 2.000,
      2016: 2.079,
      2017: 2.162
    };

    var ibovespa_values = {
      "01/1995": 4319.07, "02/1995": 3989.82, "03/1995": 2989.08, "04/1995": 2893.52, "05/1995": 3861.51, "06/1995": 3773.55,
      "07/1995": 3594.37, "08/1995": 3870.80, "09/1995": 4449.98, "10/1995": 4538.00, "11/1995": 4099.82, "12/1995": 4345.99,
      "01/1996": 4390.05, "02/1996": 5269.38, "03/1996": 5083.35, "04/1996": 5009.27, "05/1996": 5146.00, "06/1996": 5635.07,
      "07/1996": 6156.19, "08/1996": 6277.30, "09/1996": 6232.54, "10/1996": 6521.77, "11/1996": 6641.18, "12/1996": 6735.63,
      "01/1997": 6955.54, "02/1997": 8095.94, "03/1997": 8978.20, "04/1997": 9138.30, "05/1997": 10074.20, "06/1997": 11360.80,
      "07/1997": 13002.20, "08/1997": 12259.10, "09/1997": 10109.10, "10/1997": 12173.40, "11/1997": 9858.00, "12/1997": 9648.40,
      "01/1998": 10479.85, "02/1998": 9973.05, "03/1998": 10845.34, "04/1998": 11836.93, "05/1998": 11507.43, "06/1998": 9605.44,
      "07/1998": 9914.51, "08/1998": 10412.99, "09/1998": 6917.09, "10/1998": 5960.46, "11/1998": 7509.06, "12/1998": 8544.56,
      "01/1999": 6941.99, "02/1999": 8891.03, "03/1999": 9198.00, "04/1999": 11021.53, "05/1999": 11436.90, "06/1999": 11050.65,
      "07/1999": 11708.12, "08/1999": 10211.04, "09/1999": 10902.34, "10/1999": 10959.83, "11/1999": 11762.60, "12/1999": 13874.31,
      "01/2000": 16930.42, "02/2000": 16522.20, "03/2000": 17953.01, "04/2000": 17245.47, "05/2000": 15524.13, "06/2000": 15450.04,
      "07/2000": 17088.54, "08/2000": 16289.87, "09/2000": 17577.42, "10/2000": 15559.30, "11/2000": 14791.19, "12/2000": 13437.49,
      "01/2001": 15425.34, "02/2001": 17038.74, "03/2001": 16416.58, "04/2001": 13981.30, "05/2001": 14897.24, "06/2001": 14791.97,
      "07/2001": 14555.00, "08/2001": 13743.06, "09/2001": 12800.03, "10/2001": 10501.12, "11/2001": 11387.81, "12/2001": 13336.00,
      "01/2002": 13872.00, "02/2002": 12658.60, "03/2002": 14414.80, "04/2002": 13467.30, "05/2002": 12538.20, "06/2002": 12659.40,
      "07/2002": 10892.40, "08/2002": 9759.60, "09/2002": 10378.40, "10/2002": 8997.50, "11/2002": 10140.00, "12/2002": 10673.70,
      "01/2003": 11602.90, "02/2003": 10910.00, "03/2003": 10305.50, "04/2003": 11592.10, "05/2003": 12810.00, "06/2003": 13228.70,
      "07/2003": 13291.10, "08/2003": 13129.80, "09/2003": 15352.10, "10/2003": 16578.74, "11/2003": 18517.10, "12/2003": 20520.60,
      "01/2004": 22444.71, "02/2004": 21786.90, "03/2004": 22498.50, "04/2004": 22647.07, "05/2004": 19708.50, "06/2004": 19545.80,
      "07/2004": 21348.67, "08/2004": 22448.01, "09/2004": 22512.80, "10/2004": 23777.02, "11/2004": 23272.98, "12/2004": 25234.70,
      "01/2005": 25722.01, "02/2005": 24149.46, "03/2005": 27729.98, "04/2005": 26773.83, "05/2005": 24704.60, "06/2005": 25948.83,
      "07/2005": 25311.44, "08/2005": 26298.07, "09/2005": 27962.19, "10/2005": 31856.13, "11/2005": 30899.71, "12/2005": 32617.18,
      "01/2006": 33507.27, "02/2006": 38484.84, "03/2006": 39177.87, "04/2006": 38717.07, "05/2006": 41016.58, "06/2006": 37748.30,
      "07/2006": 37357.20, "08/2006": 36839.31, "09/2006": 37329.15, "10/2006": 37057.75, "11/2006": 39930.05, "12/2006": 41327.07,
      "01/2007": 45382.61, "02/2007": 44815.01, "03/2007": 43516.91, "04/2007": 45597.48, "05/2007": 49471.54, "06/2007": 53422.67,
      "07/2007": 55371.21, "08/2007": 54233.87, "09/2007": 54832.51, "10/2007": 62340.34, "11/2007": 64050.08, "12/2007": 63199.85,
      "01/2008": 62815.13, "02/2008": 61079.83, "03/2008": 64490.46, "04/2008": 62774.85, "05/2008": 69366.39, "06/2008": 71897.25,
      "07/2008": 63396.19, "08/2008": 57630.35, "09/2008": 55162.14, "10/2008": 49798.65, "11/2008": 38249.44, "12/2008": 34740.50,
      "01/2009": 40244.22, "02/2009": 38666.44, "03/2009": 36234.69, "04/2009": 41976.33, "05/2009": 50404.53, "06/2009": 54486.29,
      "07/2009": 51543.78, "08/2009": 55997.81, "09/2009": 55814.96, "10/2009": 60459.33, "11/2009": 62643.23, "12/2009": 68408.40,
      "01/2010": 70045.08, "02/2010": 66571.74, "03/2010": 67227.93, "04/2010": 71136.34, "05/2010": 67119.41, "06/2010": 61840.99,
      "07/2010": 61236.20, "08/2010": 68517.46, "09/2010": 67072.53, "10/2010": 70229.35, "11/2010": 71560.93, "12/2010": 69345.85,
      "01/2011": 69962.32, "02/2011": 67847.34, "03/2011": 66242.63, "04/2011": 69268.29, "05/2011": 65462.75, "06/2011": 63411.48,
      "07/2011": 63394.34, "08/2011": 58535.74, "09/2011": 58118.20, "10/2011": 50791.53, "11/2011": 57322.75, "12/2011": 58143.42,
      "01/2012": 57829.27, "02/2012": 64567.18, "03/2012": 66809.80, "04/2012": 65216.25, "05/2012": 62423.56, "06/2012": 53402.90,
      "07/2012": 54692.79, "08/2012": 56291.93, "09/2012": 57281.45, "10/2012": 59570.80, "11/2012": 58382.68, "12/2012": 58202.35,
      "01/2013": 62550.10, "02/2013": 60351.16, "03/2013": 56883.99, "04/2013": 55902.18, "05/2013": 55321.93, "06/2013": 53944.36,
      "07/2013": 47229.59, "08/2013": 49140.78, "09/2013": 51835.15, "10/2013": 53179.46, "11/2013": 54013.24, "12/2013": 51244.87,
      "01/2014": 50341.25, "02/2014": 46147.52, "03/2014": 46589.00, "04/2014": 50270.37, "05/2014": 52980.31, "06/2014": 51605.83,
      "07/2014": 53171.49, "08/2014": 55902.87, "09/2014": 61141.27, "10/2014": 52858.43, "11/2014": 53947.21, "12/2014": 52276.58,
      "01/2015": 48512.22, "02/2015": 47650.73, "03/2015": 51020.81, "04/2015": 52321.76, "05/2015": 57353.98, "06/2015": 53031.31,
      "07/2015": 52757.53, "08/2015": 50138.04, "09/2015": 45477.06, "10/2015": 45313.27, "11/2015": 48053.66, "12/2015": 45046.75,
      "01/2016": 40570.03, "02/2016": 44121.79, "03/2016": 50561.52, "04/2016": 53561.53, "05/2016": 49012.65, "06/2016": 52233.04,
      "07/2016": 56755.76, "08/2016": 58236.26, "09/2016": 59461.22, "10/2016": 63326.41, "11/2016": 59506.54, "12/2016": 60227.29,
      "01/2017": 59588.70, "02/2017": 64836.12, "03/2017": 66988.87, "04/2017": 65211.47, "05/2017": 66721.74, "06/2017": 62288.52,
      "07/2017": 63279.58, "08/2017": 66516.23, "09/2017": 71923.11, "10/2017": 74308.49, "11/2017": 71783.35, "12/2017": 76402.08,
      "01/2018": 84912.69, "02/2018": 85353.60, "03/2018": 85365.56, "04/2018": 86115.50, "05/2018": 76753.61, "06/2018": 72762.51
    };

    var gdp_brazil_billions = {
      1994: 356.801,
      1995: 720.985,
      1996: 854.763,
      1997: 952.089,
      1998: 1002.351,
      1999: 1087.711,
      2000: 1199.093,
      2001: 1315.756,
      2002: 1488.788,
      2003: 1717.951,
      2004: 1957.750,
      2005: 2170.584,
      2006: 2409.450,
      2007: 2720.263,
      2008: 3109.803,
      2009: 3333.039,
      2010: 3885.847,
      2011: 4376.382,
      2012: 4814.760,
      2013: 5331.619,
      2014: 5778.952,
      2015: 6000.572,
      2016: 6266.895,
      2017: 6329.563
    };

    function plotRatioChart(gdp, index, name, chartDiv) {
      var months = [];
      var values = [];
      var normalizedValues = [];

      var ratioValues = [];
      for (var key in index) {
          var year = key.split("/")[1] - 1;
          ratioValues.push(index[key] / gdp[year]);
      }
      var avgValuation = ratioValues.reduce(function(a, b) {return a+b;}) / ratioValues.length;

      for (var key in index) {
          months.push(key);
          values.push(index[key]);
          var year = key.split("/")[1] - 1;
          var valuation = index[key] / gdp[year];
          var overvaluation = valuation / avgValuation;
          normalizedValues.push(index[key] / overvaluation);
      }

      Plotly.plot(chartDiv, [
        {
          x: months,
          y: values,
          margin: {t: 0},
          name: name
        },
        {
          x: months,
          y: normalizedValues,
          margin: {t: 0},
          name: name + " (normalized)",
          line: {dash: 'dot'}
        },
        {
          x: months,
          y: normalizedValues.map(function(v) {return v*0.9}),
          margin: {t: 0},
          name: name + " (normalized, 10% discount)",
          line: {dash: 'dot', width: 1}
        }
      ], {yaxis: {type : 'log'}});
    }

    function simulatedGrowthMultipleScenarios(gdp, index, avgInflation, name) {
      var results = [];
      for (var t = 0.8; t <= 1.6; t += 0.05) {
        for (var bf = 1; bf <= 10; bf += 1) {
          results.push(simulatedGrowth(gdp, index, avgInflation, name, t, bf));
        }
      }
      results.sort(function(x,y) {return y['totalGrowth'] - x['totalGrowth']});
      var bestResult = results[0];
      console.log(name + " - best result: " + JSON.stringify(bestResult, null, 2));
    }

    function simulatedGrowth(gdp, index, avgInflation, name, threshold, cashBoostFactor) {
      var avgMonthlyInflation = Math.pow(1 + avgInflation, 1/12) - 1;
      var monthlyCash = 100.0;
      var avgValuation = 0.0;
      var cash = 0.0;
      var totalEarned = 0.0;
      var equities = 0.0;
      var months = 0;
      var investedMonths = 0;
      var lastIndexPrice;

      for (var key in index) {  // each month
        var year = key.split("/")[1] - 1;
        var indexPrice = index[key];
        var valuation = indexPrice / gdp[year];
        avgValuation = ((avgValuation * months) + valuation) / (months + 1);
        cash += monthlyCash;

        if (valuation <= avgValuation * threshold) {
          // invest
          var investment = monthlyCash;
          cash -= monthlyCash;
          if (cash > 0) {
            if (cash >= monthlyCash * cashBoostFactor) {
              investment += monthlyCash * cashBoostFactor;
              cash -= monthlyCash * cashBoostFactor;
            } else {
              investment += cash;
              cash = 0.0;
            }
          }
          equities += investment / indexPrice;
          investedMonths += 1;
        } else {
          // hold cash
        }
        totalEarned += monthlyCash;
        lastIndexPrice = index[key];
        monthlyCash *= 1 + avgMonthlyInflation;
        months++;
      }
      var equityWorth = equities * lastIndexPrice;
      var total = cash + equityWorth;
      var totalGrowth = (total / totalEarned) - 1;
      var totalGrowthPercent = (100 * totalGrowth).toFixed(2) + "%";
      // in average, each chunk of cash has been available for half of the total years
      var avgYears = (months/12) / 2;
      var avgAnnualGrowth = Math.pow(totalGrowth + 1, 1/avgYears) - 1;
      var avgAnnualGrowthPercent = (100 * avgAnnualGrowth).toFixed(2) + "%";
      var investedMonthsRatio = (100 * (investedMonths / months)).toFixed(2) + "%";
      var thresholdPercent = (100 * threshold).toFixed(2) + "%";
      return {
        'totalGrowth': totalGrowth,
        'totalGrowthPercent': totalGrowthPercent,
        'avgAnnualGrowthPercent': avgAnnualGrowthPercent,
        'investedMonthsRatio': investedMonthsRatio,
        'thresholdPercent': thresholdPercent,
        'cashBoostFactor': cashBoostFactor
      }
    }

    console.log("###################");
    console.log("### BACKTESTING ###");
    console.log("###################");
    console.log("");
    simulatedGrowthMultipleScenarios(gdp_usa_trillions, sp500_values, 0.0327, "S&P 500");
    simulatedGrowthMultipleScenarios(gdp_canada_trillions, sp_tsx_values, 0.0303, "S&P TSX");
    simulatedGrowthMultipleScenarios(gdp_brazil_billions, ibovespa_values, 0.0807, "Ibovespa");

    plotRatioChart(gdp_usa_trillions, sp500_values, "S&P 500", "chart_sp500");
    plotRatioChart(gdp_canada_trillions, sp_tsx_values, "S&P TSX", "chart_sp_tsx");
    plotRatioChart(gdp_brazil_billions, ibovespa_values, "Ibovespa", "chart_ibovespa");
  </script>
</body>
</html>
